\usepackage{etoolbox}

% Por defecto, muestra el texto centrado en las diapositivas:
\makeatletter
\apptocmd\beamer@framenotesbegin
  {\centering}
  {}{}
\makeatother
\AtBeginDocument{%
  \letcs\oig{@orig\string\includegraphics}%
  \renewcommand<>\includegraphics[2][]{%
    \only#3{%
      {\centering\oig[{#1}]{#2}\par}%
    }%
  }%
}

% El texto monoespaciado se muestra de otro color:
\definecolor{ttcolor}{RGB}{64,112,161}
\let\Oldtexttt\texttt
\renewcommand\texttt[1]{{\ttfamily\color{ttcolor}#1}}

% Cambia varios tamaños de tipografías:
\setbeamersize{text margin left=4em,text margin right=4em}
\setbeamerfont{section title}{size={\fontsize{16}{18}}}
\setbeamerfont{title}{size={\fontsize{18}{26}}}

% Los bloques de código se muestran enmarcados:
\usepackage[xparse,skins,breakable]{tcolorbox}
\DeclareTColorBox{caja}{}
    { center,width=1\linewidth,enhanced,fonttitle=\large\bfseries,
      drop fuzzy shadow,breakable,
      boxrule=0.2mm,
      colback=black!4!white,
      before skip=0.2cm,after skip=0.2cm,
      top=0.1cm,
      bottom=0.1cm,
      left=0.1cm,
      right=0.1cm
    }

\ifdefined\Shaded
  \renewenvironment{Shaded}{\centering \begin{caja}}{\end{caja}}
\fi

% Adjust fontsize for code-blocks if necessary (by redefining the
% Highlighting-Environment of the pandoc-template)
\ifdefined\Highlighting
  \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\},fontsize=\footnotesize}
\fi

\makeatletter
\def\verbatim@nolig@list{}
\makeatother

% Apaño para que Pandoc traduzca lo que hay entre \begin{...} y \end{...}:
\newcommand{\hideFromPandoc}[1]{#1}
\hideFromPandoc{
    \let\Begin\begin
    \let\End\end
}

\usepackage[shortlabels]{enumitem}
\setlist[enumerate]{label*=\arabic*.,leftmargin=*}
\setlist[itemize]{label=\usebeamerfont*{itemize item}\usebeamercolor[fg]{itemize item}\usebeamertemplate{itemize item}}

\usepackage[answerdelayed]{exercise}
\renewcommand{\ExerciseName}{Pregunta}
\renewcommand{\AnswerName}{Respuesta}
\renewcommand{\ExerciseHeader}{\textbf{\large%
\ExerciseName\ \ExerciseHeaderNB\ExerciseHeaderTitle%
\ExerciseHeaderOrigin\medskip}\par}
\renewcommand{\AnswerHeader}{\textbf{%
Respuesta a la \ExerciseName\ \ExerciseHeaderNB}\smallskip\par}
